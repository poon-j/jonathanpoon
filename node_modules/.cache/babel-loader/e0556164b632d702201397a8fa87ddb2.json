{"ast":null,"code":"import _slicedToArray from\"/Users/jonathanpoon/dev/jonathanpoon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/jonathanpoon/dev/jonathanpoon/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import{Navbar,Nav,Container}from'react-bootstrap';import React,{useEffect,useState,useContext}from'react';import{withRouter}from'react-router';import{NavLink}from'react-router-dom';import styled,{ThemeContext}from'styled-components';import endpoints from'../constants/endpoints';import ThemeToggler from'./ThemeToggler';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={logoStyle:{width:50,height:40}};var ExternalNavLink=styled.a(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  &:hover {\\n    color: \",\";\\n  }\\n  &::after {\\n    background-color: \",\";\\n  }\\n\"])),function(props){return props.theme.navbarTheme.linkColor;},function(props){return props.theme.navbarTheme.linkHoverColor;},function(props){return props.theme.accentColor;});var InternalNavLink=styled(NavLink)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  &:hover {\\n    color: \",\";\\n  }\\n  &::after {\\n    background-color: \",\";\\n  }\\n  &.navbar__link--active {\\n    color: \",\";\\n  }\\n\"])),function(props){return props.theme.navbarTheme.linkColor;},function(props){return props.theme.navbarTheme.linkHoverColor;},function(props){return props.theme.accentColor;},function(props){return props.theme.navbarTheme.linkActiveColor;});var NavBar=function NavBar(){var _data$logo,_data$logo2,_data$logo3,_data$logo4,_data$logo5,_data$sections;var theme=useContext(ThemeContext);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),expanded=_useState4[0],setExpanded=_useState4[1];useEffect(function(){fetch(endpoints.navbar,{method:'GET'}).then(function(res){return res.json();}).then(function(res){return setData(res);}).catch(function(err){return err;});},[]);return/*#__PURE__*/_jsx(Navbar,{fixed:\"top\",expand:\"md\",bg:\"dark\",variant:\"dark\",className:\"navbar-custom\",expanded:expanded,children:/*#__PURE__*/_jsxs(Container,{children:[(data===null||data===void 0?void 0:data.logo)&&/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:data===null||data===void 0?void 0:(_data$logo=data.logo)===null||_data$logo===void 0?void 0:_data$logo.source,className:\"d-inline-block align-top\",alt:\"main logo\",style:data!==null&&data!==void 0&&(_data$logo2=data.logo)!==null&&_data$logo2!==void 0&&_data$logo2.height&&data!==null&&data!==void 0&&(_data$logo3=data.logo)!==null&&_data$logo3!==void 0&&_data$logo3.width?{height:data===null||data===void 0?void 0:(_data$logo4=data.logo)===null||_data$logo4===void 0?void 0:_data$logo4.height,width:data===null||data===void 0?void 0:(_data$logo5=data.logo)===null||_data$logo5===void 0?void 0:_data$logo5.width}:styles.logoStyle})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"responsive-navbar-nav\",onClick:function onClick(){return setExpanded(!expanded);}}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"responsive-navbar-nav\",children:[/*#__PURE__*/_jsx(Nav,{className:\"me-auto\"}),/*#__PURE__*/_jsx(Nav,{children:data&&((_data$sections=data.sections)===null||_data$sections===void 0?void 0:_data$sections.map(function(section,index){return(section===null||section===void 0?void 0:section.type)==='link'?/*#__PURE__*/_jsx(ExternalNavLink,{href:section.href,target:\"_blank\",rel:\"noopener noreferrer\",onClick:function onClick(){return setExpanded(false);},className:\"navbar__link\",theme:theme,children:section.title},section.title):/*#__PURE__*/_jsx(InternalNavLink,{onClick:function onClick(){return setExpanded(false);},exact:index===0,activeClassName:\"navbar__link--active\",className:\"navbar__link\",to:section.href,theme:theme,children:section.title},section.title);}))}),/*#__PURE__*/_jsx(ThemeToggler,{onClick:function onClick(){return setExpanded(false);}})]})]})});};var NavBarWithRouter=withRouter(NavBar);export default NavBarWithRouter;","map":{"version":3,"sources":["/Users/jonathanpoon/dev/jonathanpoon/src/components/NavBar.jsx"],"names":["Navbar","Nav","Container","React","useEffect","useState","useContext","withRouter","NavLink","styled","ThemeContext","endpoints","ThemeToggler","styles","logoStyle","width","height","ExternalNavLink","a","props","theme","navbarTheme","linkColor","linkHoverColor","accentColor","InternalNavLink","linkActiveColor","NavBar","data","setData","expanded","setExpanded","fetch","navbar","method","then","res","json","catch","err","logo","source","sections","map","section","index","type","href","title","NavBarWithRouter"],"mappings":"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","sourcesContent":["import { Navbar, Nav, Container } from 'react-bootstrap';\nimport React, { useEffect, useState, useContext } from 'react';\nimport { withRouter } from 'react-router';\nimport { NavLink } from 'react-router-dom';\nimport styled, { ThemeContext } from 'styled-components';\nimport endpoints from '../constants/endpoints';\nimport ThemeToggler from './ThemeToggler';\n\nconst styles = {\n  logoStyle: {\n    width: 50,\n    height: 40,\n  },\n};\n\nconst ExternalNavLink = styled.a`\n  color: ${(props) => props.theme.navbarTheme.linkColor};\n  &:hover {\n    color: ${(props) => props.theme.navbarTheme.linkHoverColor};\n  }\n  &::after {\n    background-color: ${(props) => props.theme.accentColor};\n  }\n`;\n\nconst InternalNavLink = styled(NavLink)`\n  color: ${(props) => props.theme.navbarTheme.linkColor};\n  &:hover {\n    color: ${(props) => props.theme.navbarTheme.linkHoverColor};\n  }\n  &::after {\n    background-color: ${(props) => props.theme.accentColor};\n  }\n  &.navbar__link--active {\n    color: ${(props) => props.theme.navbarTheme.linkActiveColor};\n  }\n`;\n\nconst NavBar = () => {\n  const theme = useContext(ThemeContext);\n  const [data, setData] = useState(null);\n  const [expanded, setExpanded] = useState(false);\n\n  useEffect(() => {\n    fetch(endpoints.navbar, {\n      method: 'GET',\n    })\n      .then((res) => res.json())\n      .then((res) => setData(res))\n      .catch((err) => err);\n  }, []);\n\n  return (\n    <Navbar\n      fixed=\"top\"\n      expand=\"md\"\n      bg=\"dark\"\n      variant=\"dark\"\n      className=\"navbar-custom\"\n      expanded={expanded}\n    >\n      <Container>\n        {data?.logo && (\n          <Navbar.Brand href=\"/\">\n            <img\n              src={data?.logo?.source}\n              className=\"d-inline-block align-top\"\n              alt=\"main logo\"\n              style={\n                data?.logo?.height && data?.logo?.width\n                  ? { height: data?.logo?.height, width: data?.logo?.width }\n                  : styles.logoStyle\n              }\n            />\n          </Navbar.Brand>\n        )}\n        <Navbar.Toggle\n          aria-controls=\"responsive-navbar-nav\"\n          onClick={() => setExpanded(!expanded)}\n        />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className=\"me-auto\" />\n          <Nav>\n            {data\n              && data.sections?.map((section, index) => (section?.type === 'link' ? (\n                <ExternalNavLink\n                  key={section.title}\n                  href={section.href}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  onClick={() => setExpanded(false)}\n                  className=\"navbar__link\"\n                  theme={theme}\n                >\n                  {section.title}\n                </ExternalNavLink>\n              ) : (\n                <InternalNavLink\n                  key={section.title}\n                  onClick={() => setExpanded(false)}\n                  exact={index === 0}\n                  activeClassName=\"navbar__link--active\"\n                  className=\"navbar__link\"\n                  to={section.href}\n                  theme={theme}\n                >\n                  {section.title}\n                </InternalNavLink>\n              )))}\n          </Nav>\n          <ThemeToggler\n            onClick={() => setExpanded(false)}\n          />\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nconst NavBarWithRouter = withRouter(NavBar);\nexport default NavBarWithRouter;\n"]},"metadata":{},"sourceType":"module"}