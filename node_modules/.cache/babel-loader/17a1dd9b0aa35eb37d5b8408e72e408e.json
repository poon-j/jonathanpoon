{"ast":null,"code":"import _slicedToArray from\"/Users/jonathanpoon/dev/jonathanpoon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{Container,Row,Button}from'react-bootstrap';import{ThemeContext}from'styled-components';import Fade from'react-reveal/Fade';import Header from'./Header';import endpoints from'../constants/endpoints';import ProjectCard from'./projects/ProjectCard';import FallbackSpinner from'./FallbackSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var styles={containerStyle:{marginBottom:25},showMoreStyle:{margin:25}};var Projects=function Projects(props){var _data$projects;var theme=useContext(ThemeContext);var header=props.header;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showMore=_useState4[0],setShowMore=_useState4[1];useEffect(function(){fetch(endpoints.projects,{method:'GET'}).then(function(res){return res.json();}).then(function(res){return setData(res);}).catch(function(err){return err;});},[]);var numberOfItems=showMore&&data?data.length:6;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{title:header}),data?/*#__PURE__*/_jsx(\"div\",{className:\"section-content-container\",children:/*#__PURE__*/_jsxs(Container,{style:styles.containerStyle,children:[/*#__PURE__*/_jsx(Row,{xs:1,sm:1,md:2,lg:3,className:\"g-4\",children:(_data$projects=data.projects)===null||_data$projects===void 0?void 0:_data$projects.slice(0,numberOfItems).map(function(project){return/*#__PURE__*/_jsx(Fade,{children:/*#__PURE__*/_jsx(ProjectCard,{project:project})},project.title);})}),!showMore&&/*#__PURE__*/_jsx(Button,{style:styles.showMoreStyle,variant:theme.bsSecondaryVariant,onClick:function onClick(){return setShowMore(true);},children:\"show more\"})]})}):/*#__PURE__*/_jsx(FallbackSpinner,{})]});};export default Projects;","map":{"version":3,"sources":["/Users/jonathanpoon/dev/jonathanpoon/src/components/Projects.jsx"],"names":["React","useState","useEffect","useContext","Container","Row","Button","ThemeContext","Fade","Header","endpoints","ProjectCard","FallbackSpinner","styles","containerStyle","marginBottom","showMoreStyle","margin","Projects","props","theme","header","data","setData","showMore","setShowMore","fetch","projects","method","then","res","json","catch","err","numberOfItems","length","slice","map","project","title","bsSecondaryVariant"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,MAAzB,KAAuC,iBAAvC,CACA,OAASC,YAAT,KAA6B,mBAA7B,CAEA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,C,6IAEA,GAAMC,CAAAA,MAAM,CAAG,CACbC,cAAc,CAAE,CACdC,YAAY,CAAE,EADA,CADH,CAIbC,aAAa,CAAE,CACbC,MAAM,CAAE,EADK,CAJF,CAAf,CASA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,oBAC1B,GAAMC,CAAAA,KAAK,CAAGjB,UAAU,CAACI,YAAD,CAAxB,CACA,GAAQc,CAAAA,MAAR,CAAmBF,KAAnB,CAAQE,MAAR,CACA,cAAwBpB,QAAQ,CAAC,IAAD,CAAhC,wCAAOqB,IAAP,eAAaC,OAAb,eACA,eAAgCtB,QAAQ,CAAC,KAAD,CAAxC,yCAAOuB,QAAP,eAAiBC,WAAjB,eAEAvB,SAAS,CAAC,UAAM,CACdwB,KAAK,CAAChB,SAAS,CAACiB,QAAX,CAAqB,CACxBC,MAAM,CAAE,KADgB,CAArB,CAAL,CAGGC,IAHH,CAGQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAHR,EAIGF,IAJH,CAIQ,SAACC,GAAD,QAASP,CAAAA,OAAO,CAACO,GAAD,CAAhB,EAJR,EAKGE,KALH,CAKS,SAACC,GAAD,QAASA,CAAAA,GAAT,EALT,EAMD,CAPQ,CAON,EAPM,CAAT,CAQA,GAAMC,CAAAA,aAAa,CAAGV,QAAQ,EAAIF,IAAZ,CAAmBA,IAAI,CAACa,MAAxB,CAAiC,CAAvD,CACA,mBACE,wCACE,KAAC,MAAD,EAAQ,KAAK,CAAEd,MAAf,EADF,CAEGC,IAAI,cAED,YAAK,SAAS,CAAC,2BAAf,uBACE,MAAC,SAAD,EAAW,KAAK,CAAET,MAAM,CAACC,cAAzB,wBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,CAAmB,EAAE,CAAE,CAAvB,CAA0B,EAAE,CAAE,CAA9B,CAAiC,SAAS,CAAC,KAA3C,0BACGQ,IAAI,CAACK,QADR,yCACG,eAAeS,KAAf,CAAqB,CAArB,CAAwBF,aAAxB,EAAuCG,GAAvC,CAA2C,SAACC,OAAD,qBAC1C,KAAC,IAAD,wBACE,KAAC,WAAD,EAAa,OAAO,CAAEA,OAAtB,EADF,EAAWA,OAAO,CAACC,KAAnB,CAD0C,EAA3C,CADH,EADF,CASG,CAACf,QAAD,eAEC,KAAC,MAAD,EACE,KAAK,CAAEX,MAAM,CAACG,aADhB,CAEE,OAAO,CAAEI,KAAK,CAACoB,kBAFjB,CAGE,OAAO,CAAE,yBAAMf,CAAAA,WAAW,CAAC,IAAD,CAAjB,EAHX,uBAXJ,GADF,EAFC,cAwBC,KAAC,eAAD,IA1BR,GADF,CA8BD,CA7CD,CAmDA,cAAeP,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Container, Row, Button } from 'react-bootstrap';\nimport { ThemeContext } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Fade from 'react-reveal/Fade';\nimport Header from './Header';\nimport endpoints from '../constants/endpoints';\nimport ProjectCard from './projects/ProjectCard';\nimport FallbackSpinner from './FallbackSpinner';\n\nconst styles = {\n  containerStyle: {\n    marginBottom: 25,\n  },\n  showMoreStyle: {\n    margin: 25,\n  },\n};\n\nconst Projects = (props) => {\n  const theme = useContext(ThemeContext);\n  const { header } = props;\n  const [data, setData] = useState(null);\n  const [showMore, setShowMore] = useState(false);\n\n  useEffect(() => {\n    fetch(endpoints.projects, {\n      method: 'GET',\n    })\n      .then((res) => res.json())\n      .then((res) => setData(res))\n      .catch((err) => err);\n  }, []);\n  const numberOfItems = showMore && data ? data.length : 6;\n  return (\n    <>\n      <Header title={header} />\n      {data\n        ? (\n          <div className=\"section-content-container\">\n            <Container style={styles.containerStyle}>\n              <Row xs={1} sm={1} md={2} lg={3} className=\"g-4\">\n                {data.projects?.slice(0, numberOfItems).map((project) => (\n                  <Fade key={project.title}>\n                    <ProjectCard project={project} />\n                  </Fade>\n                ))}\n              </Row>\n\n              {!showMore\n                && (\n                <Button\n                  style={styles.showMoreStyle}\n                  variant={theme.bsSecondaryVariant}\n                  onClick={() => setShowMore(true)}\n                >\n                  show more\n                </Button>\n                )}\n            </Container>\n          </div>\n        ) : <FallbackSpinner /> }\n    </>\n  );\n};\n\nProjects.propTypes = {\n  header: PropTypes.string.isRequired,\n};\n\nexport default Projects;\n"]},"metadata":{},"sourceType":"module"}